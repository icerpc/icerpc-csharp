// Copyright (c) ZeroC, Inc. All rights reserved.

module IceRpc::Tests::ClientServer;

exception RetrySystemFailure
{
}

interface RetryBidirTest
{
    otherReplica();
    afterDelay(n: int32);
}

interface RetryTest
{
    idempotent opIdempotent(failedAttempts: int32, killConnection: bool);
    opNotIdempotent(failedAttempts: int32, killConnection: bool);
    opWithData(failedAttempts: int32, delay: int32, data: sequence<uint8>); // TODO rename this parameter to 'retryData'.
    opRetryAfterDelay(failedAttempts: int32, delay: int32);
    opRetryNo();
}

interface RetryReplicatedTest
{
    otherReplica();
}
