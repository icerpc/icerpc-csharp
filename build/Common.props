<?xml version="1.0" encoding="utf-8"?>
<!-- TODO: the file is misnamed: it's common to tests and src, but not used by examples -->
<Project ToolsVersion="14.0" DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
    <Import Project="$(MSBuildThisFileDirectory)IceRpc.Version.props" />
    <PropertyGroup>
        <GenerateDocumentationFile>true</GenerateDocumentationFile>
        <Prefer32Bit>false</Prefer32Bit>
        <FileAlignment>512</FileAlignment>
        <ErrorReport>prompt</ErrorReport>
        <WarningLevel>4</WarningLevel>
        <DefineConstants>TRACE</DefineConstants>
        <Nullable>enable</Nullable>
        <TargetFramework>net7.0</TargetFramework>
        <LangVersion>11.0</LangVersion>
        <TreatWarningsAsErrors>true</TreatWarningsAsErrors>
        <AnalysisMode>All</AnalysisMode>
        <ImplicitUsings>true</ImplicitUsings>
        <NetRuntimeVersion>7.0.0</NetRuntimeVersion>
        <!-- TODO update to 1.2 stable release https://github.com/DotNetAnalyzers/StyleCopAnalyzers/pull/3187#issuecomment-1043221630 -->
        <StyleCopAnalyzersVersion>1.2.0-beta.435</StyleCopAnalyzersVersion>
    </PropertyGroup>

    <PropertyGroup Condition="'$(Configuration)' == 'Debug'">
        <DebugType>portable</DebugType>
        <Optimize>false</Optimize>
        <DebugSymbols>true</DebugSymbols>
    </PropertyGroup>

    <PropertyGroup Condition="'$(Configuration)' == 'Release'">
        <DebugType>portable</DebugType>
        <Optimize>true</Optimize>
        <RustConfiguration>release</RustConfiguration>
    </PropertyGroup>

    <!-- Common Assembly & Packaging properties -->
    <PropertyGroup>
        <Authors>ZeroC, Inc.</Authors>
        <Copyright>Copyright (c) ZeroC, Inc.</Copyright>
        <PackageIcon>logo.png</PackageIcon>
        <PackageLicenseExpression>Apache-2.0</PackageLicenseExpression>
        <PackageProjectUrl>https://github.com/icerpc/icerpc-csharp</PackageProjectUrl>
        <PackageReadmeFile>README.md</PackageReadmeFile>
        <PackageRequireLicenseAcceptance>false</PackageRequireLicenseAcceptance>
        <PackageVersion>$(Version)</PackageVersion>
        <Product>IceRPC</Product>
        <RepositoryType>git</RepositoryType>
        <RepositoryUrl>https://github.com/icerpc/icerpc-csharp</RepositoryUrl>
    </PropertyGroup>
</Project>
